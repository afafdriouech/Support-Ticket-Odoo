<?xml version="1.0" encoding="utf-8"?>
<odoo>



    <record id="channel_dashboard_kanban_view" model="ir.ui.view">
      <field name="name">custom.sales.dashboard.view</field>
      <field name="model">ticket.dashboard</field>
      <field name="arch" type="xml">
        <kanban class="oe_background_grey o_kanban_dashboard o_salesteam_kanban o_project_kanban "
                create="0">
           <field name="color"/>
           <field name="urgent_open_nbr"/>
           <templates>
              <span t-name="kanban-box"> <!-- Use <t> tag instead of <span> for color change -->
                 <div t-attf-class="#{kanban_color(record.color.raw_value)} ">
                   <!-- <div class="o_project_kanban_manage">
                       <a class="o_kanban_manage_toggle_button" href="#">More
                           <i class="fa fa-caret-down"/>
                        </a>
                    </div> -->
                    <div class="o_project_kanban_main" >
                      <div class="o_kanban_card_content o_visible">
                          <div class="o_kanban_primary_left" >
                              <div class="">
                                  <center>
                                     <span>
                                        <span t-field="record.urgent_open_nbr"/>
                                      </span>
                                  </center>
                               </div>
                                <div>
                                <center>
                                  <!-- <button class="btn btn-primary" type="action" name="dashboard_sales_action_id" string="Quotations">Urgent</button> -->
                                     <center><button class="btn btn-primary" type="action" name="dashboard_sales_order_action_id" >View all</button></center>
                                        <h3>Unassigned:</h3>
                                               <field name="urgent_open_nbr"/>
                                        <h3>Urgent:</h3>
                                               <field name="color"/>
                                        <h3>High Priority:</h3>
                                               <field name="urgent_open_nbr"/>
                                </center>
                                </div>
                                </div>
                            </div>
                         <div class="o_kanban_card_manage_pane o_invisible">
                             <div class="col-xs-4 o_kanban_manage_view">
                                 <div class="o_kanban_card_manage_title">
                                     <span>View</span>
                                 </div>
                             </div>
                             <div class="col-xs-6  o_kanban_manage_view">
                                 <div class="o_kanban_card_manage_title">
                                     <br/>
                                     <span>View</span>
                                 </div>
                             </div>
                             <div class="col-xs-6 o_kanban_manage_view">
                                 <div class="o_kanban_card_manage_title">
                                     <br/>
                                     <span>View</span>
                                 </div>
                             </div>
                             <!-- <div t-if="widget.editable" class="o_project_kanban_colorpicker" >
                                <ul class="oe_kanban_colorpicker" data-field="name"/>
                              </div> -->
                         </div>
                       </div>
                    </div>
                </span>
            </templates>
        </kanban>
      </field>
    </record>

     <record id="channel_dashboard_form_view" model="ir.ui.view">
      <field name="name">custom.sales.dashboard.form.view</field>
      <field name="model">ticket.dashboard</field>
      <field name="arch" type="xml">
           <form>
               <field name="color"/>
               <field name="urgent_open_nbr"/>
          </form>
      </field>
     </record>

     <record id="custom_sales_dashboard_action" model="ir.actions.act_window">
        <field name="name">Dashboard</field>
        <field name="res_model">ticket.dashboard</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>
        <field name="context">{}</field>
        <field name="view_mode">kanban,form</field>
    </record>
<!--
    <record id="tickets_test_view" model="ir.actions.act_window">
        <field name="name">kanban report view</field>
        <field name="res_model">ticket.dashboard</field>
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="ticket-module.channel_dashboard_kanban_view"/>
    </record> -->




    <record id="tickets_graph_view" model="ir.actions.act_window">
        <field name="name">support.ticket graph view</field>
        <field name="res_model">support.ticket</field>
        <field name="view_mode">graph</field>
        <field name="context">{'graph_mode':'pie','group_by':'category_id'}</field>
        <field name="view_id" ref="ticket-module.support_ticket_view_graph"/>
    </record>

    <record id="users_graph_view" model="ir.actions.act_window">
        <field name="name">support.ticket graph view</field>
        <field name="res_model">support.ticket</field>
        <field name="view_mode">graph</field>
        <field name="context">{'group_by':'user_id'}</field>
        <field name="domain">[('user_id','!=',False)]</field>
        <field name="view_id" ref="ticket-module.support_ticket_view_graph"/>
    </record>

    <record id="kanban_view" model="ir.actions.act_window">
        <field name="name">support.ticket graph view</field>
        <field name="res_model">support.ticket</field>
        <field name="view_mode">kanban</field>
        <!--field name="context">{'group_by':'user_id'}</field>-->
        <field name="view_id" ref="ticket-module.support_ticket_view_kanban"/>
    </record>

    <record id="dashboard_form_view" model="ir.ui.view">
        <field name="name">dashboard form view</field>
        <field name="model">board.board</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Dashboarddd">
                <board style="1-2">
                    <column>
                        <action string="My Tickets"
                                name="%(ticket-module.custom_sales_dashboard_action)d"/>
                        <action string="Tickets reasons"
                                name="%(ticket-module.tickets_graph_view)d"/>
                    </column>
                    <column>
                        <action string="Team performance"
                                name="%(ticket-module.users_graph_view)d"/>
                        <action string="Tasks"
                                name="%(ticket-module.kanban_view)d"/>
                    </column>
                </board>
            </form>
        </field>
    </record>

    <record id="ticket_dashboard_action" model="ir.actions.act_window">
         <field name="name">Dashoboard</field>
         <field name="res_model">board.board</field>
         <field name="view_mode">form</field>
         <field name="usage">menu</field>
         <field name="view_id" ref="dashboard_form_view"/>
    </record>

</odoo>